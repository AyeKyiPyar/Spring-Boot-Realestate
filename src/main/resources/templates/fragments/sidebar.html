<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org">
	<head>
	  <meta charset="UTF-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1">
	  <title>Real Estate</title>
	  <script src="https://cdn.tailwindcss.com"></script>
	  <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
	</head>
	<body>
		<aside th:fragment="sidebar" class="w-64 bg-green-700 text-white flex flex-col">
			  <div class="p-6 mt-10 text-2xl font-bold">Real Estate</div>
			  <nav class="flex-1 px-4 space-y-2">
			    <a th:href="@{/index}" class="block px-4 py-2 rounded hover:bg-green-600 text-l">
			      <i class="fas fa-home mr-2"></i> Home
			    </a>
			
			    <!-- Add Post Dropdown -->
			    <div class="relative">
			      <button class="block w-full px-4 py-2 rounded hover:bg-green-600 text-l flex items-center" id="addPostBtn">
			        <i class="fas fa-plus-circle mr-2"></i> Add Post
			        <i class="fas fa-chevron-down ml-auto"></i>
			      </button>
			      <!-- Initially hidden dropdown menu -->
			      <div class="dropdown-menu absolute left-0 w-full bg-green-600 text-white hidden mt-2 rounded shadow-md" id="dropdownMenu">
			        <a th:href="@{/post/house}" class="block px-4 py-2 hover:bg-green-500 text-l">House</a>
			        <a th:href="@{/post/flat}" class="block px-4 py-2 hover:bg-green-500 text-l">Flat</a>
			        <a th:href="@{/post/land}" class="block px-4 py-2 hover:bg-green-500 text-l">Land</a>
			      </div>
			    </div>
			
			    <a th:href="@{/profile}" class="block px-4 py-2 rounded hover:bg-green-600 text-l">
			      <i class="fas fa-user mr-2"></i> Profile
			    </a>
			    <!-- <a th:href="@{/lawyer}" class="block px-4 py-2 rounded hover:bg-green-600 text-l">
			      <i class="fas fa-building mr-2"></i> Land Lawyer Service
			    </a>
			    <a th:href="@{/check-land}" class="block px-4 py-2 rounded hover:bg-green-600 text-l">
			      <i class="fas fa-cogs mr-2"></i> Check Land Ownership
			    </a> -->
			    <a th:if="${session.loginUser.status == 'premium'}"
				   th:href="@{/lawyer}"
				   class="block px-4 py-2 rounded hover:bg-green-600 text-l">
				  <i class="fas fa-building mr-2"></i> Land Lawyer Service
				</a>
				
				<a th:if="${session.loginUser.status == 'premium'}"
				   th:href="@{/check-land}"
				   class="block px-4 py-2 rounded hover:bg-green-600 text-l">
				  <i class="fas fa-cogs mr-2"></i> Check Land Ownership
				</a>
							    
			  </nav>
			  <div class="text-xl font-bold px-4 mb-5 text-blue-600">
				  <a th:if="${session.loginUser.status != 'premium'}" th:href="@{/premium}">Buy Premium</a>
				</div>
				
				<div class="text-xl font-bold px-4 mb-5 text-orange-600">
				  <label th:if="${session.loginUser.status == 'premium'}">Premium</label>
				</div>
			  <div class="p-4 border-t border-green-600">
			    <a th:href="@{/login}" class="hover:underline text-xl">Logout</a>
			  </div>
			</aside>
			
			<!-- Tailwind CSS for Dropdown Functionality -->
			<script>
			  // Get the elements
			  const addPostBtn = document.getElementById('addPostBtn');
			  const dropdownMenu = document.getElementById('dropdownMenu');
			
			  // Add event listener to toggle dropdown visibility
			  addPostBtn.addEventListener('click', function(event) {
			    event.stopPropagation();  // Prevent the click event from bubbling up
			    dropdownMenu.classList.toggle('hidden'); // Toggle visibility
			  });
			
			  // Close dropdown if the user clicks outside of it
			  document.addEventListener('click', function(event) {
			    if (!addPostBtn.contains(event.target) && !dropdownMenu.contains(event.target)) {
			      dropdownMenu.classList.add('hidden');
			    }
			  });
			</script>

	</body>
</html>
